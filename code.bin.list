EMU8086 GENERATED LISTING. MACHINE CODE <- SOURCE.
 
code.bin -- emu8086 assembler version: 4.08  
 
[ 4/21/2017  --  9:02:44 PM ] 
 
===================================================================================================
[LINE]     LOC: MACHINE CODE                          SOURCE
===================================================================================================
 
[   1]        :                                       #make_bin#
[   2]        :                                       
[   3]        :                                       #LOAD_SEGMENT=FFFFh#
[   4]        :                                       #LOAD_OFFSET=0000h#
[   5]        :                                       
[   6]        :                                       #CS=0000h#
[   7]        :                                       #IP=0000h#
[   8]        :                                       
[   9]        :                                       #DS=0000h#
[  10]        :                                       #ES=0000h#
[  11]        :                                       
[  12]        :                                       #SS=0000h#
[  13]        :                                       #SP=FFFEh#
[  14]        :                                       
[  15]        :                                       #AX=0000h#
[  16]        :                                       #BX=0000h#
[  17]        :                                       #CX=0000h#
[  18]        :                                       #DX=0000h#
[  19]        :                                       #SI=0000h#
[  20]        :                                       #DI=0000h#
[  21]        :                                       #BP=0000h#
[  22]        :                                       
[  23]        :                                       ; add your code here
[  24]    0000: E9 13 04                              jmp     st1
[  25]    0003: 90                                    nop
[  26]    0004: 00 00                                 dw      0000
[  27]    0006: 00 00                                 dw      0000
[  28]    0008: 00 00                                 dw      0000
[  29]    000A: 00 00                                 dw      0000
[  30]        :                                       		
[  31]    000C: 00 00 00 00 00 00 00 00 00 00 00 00   		 db     1012 dup(0)
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00 00 00 00 00 00 00 00 00 
                00 00 00 00                         
[  32]        :                                       		
[  33]        :                                       	
[  34]    0400: 01 02 03 04 05 06 07 08 09 0F 00      TABLE_D db 1h,2h,3h,4h,5h,6h,7h,8h,9h,0Fh,0h
[  35]    040B: ED EB E7 DD DB D7 BD BB B7 7D 7B      TABLE_K db  0EDh, 0EBh,0E7h,0DDh,0DBh,0D7h,0BDh,0BBh,0B7h,7Dh,7Bh	
[  36]        :                                       		
[  37]        :                                       ;main program
[  38]        :                                       
[  39]    0416: FA                                    st1:      cli
[  40]        :                                       ; intialize ds, es,ss to start of RAM
[  41]    0417: B8 00 02                              mov       ax,0200h
[  42]    041A: 8E D8                                 mov       ds,ax
[  43]    041C: 8E C0                                 mov       es,ax
[  44]    041E: 8E D0                                 mov       ss,ax
[  45]    0420: BC FE FF                              mov       sp,0FFFEH
[  46]        :                                       ;intialising 8255-1 port A, upper port C as input, port B, lower port C as output
[  47]    0423: B0 98                                 mov     al,10011000b
[  48]    0425: E6 86                                 		  out	86h,al
[  49]        :                                       ;intialising 8255-2 port A, upper port C as output, port B, lower port C as input
[  50]    0427: B0 83                                 mov     al,10000011b
[  51]    0429: E6 96                                 		  out	96h,al
[  52]        :                                       
[  53]        :                                       ;intialising  8253 - counter 0 in mode 3 count 5; counter 1 in mode 3 count 500
[  54]    042B: B0 17                                 		  mov al,00010111b
[  55]    042D: E6 A6                                 		  out 0a6h,al
[  56]    042F: B0 77                                 		  mov al,01110111b
[  57]    0431: E6 A6                                 		  out 0a6h,al
[  58]    0433: B0 05                                 		  mov al,05h
[  59]    0435: E6 A0                                 		  out 0a0h,al
[  60]    0437: B0 00                                 		  mov al,00h
[  61]    0439: E6 A2                                 out 0a2h,al
[  62]    043B: B0 05                                 mov al,05h
[  63]    043D: E6 A2                                 out 0a2h,al
[  64]        :                                       
[  65]        :                                       
[  66]        :                                       ;checking for record switch
[  67]    043F: E4 94                                 chk1:	in al, 94h
[  68]    0441: 24 08                                 	    and al,08h
[  69]    0443: 74 FA                                 	jz chk1
[  70]    0445:                                       y10:
[  71]        :                                       ;making record led high
[  72]    0445: B0 40                                 mov al,01000000b
[  73]    0447: E6 94                                 out 94h,al
[  74]        :                                       
[  75]    0449: BF 00 00                              mov di,00h
[  76]    044C: B9 70 17                              mov cx,6000d
[  77]        :                                       ;checking EOC
[  78]    044F: E4 94                                 eoc:	in al,94h
[  79]    0451: 24 01                                 and al,01h
[  80]    0453: 74 FA                                 jz eoc
[  81]        :                                       
[  82]        :                                       ;making oe high
[  83]    0455: B0 50                                 	mov al,01010000b
[  84]    0457: E6 94                                 	out 94h,al
[  85]        :                                       
[  86]        :                                       ;transfering data
[  87]    0459: E4 80                                 in al, 80h
[  88]    045B: 88 05                                 mov [di],al
[  89]    045D: 47                                    inc di
[  90]        :                                       ;making oe low
[  91]    045E: B0 40                                 	mov al,01000000b
[  92]    0460: E6 94                                 	out 94h,al
[  93]    0462: E4 94                                 trns1:	in al,94h
[  94]    0464: 24 01                                 	and al,01h
[  95]    0466: 3C 01                                 cmp al,01h
[  96]    0468: 74 F8                                 je trns1
[  97]    046A: E2 E3                                 loop eoc
[  98]        :                                       
[  99]        :                                       ;making record led low
[ 100]    046C: B0 00                                 mov al, 00b
[ 101]    046E: E6 94                                 out 94h,al
[ 102]        :                                       
[ 103]    0470: BB 01 00                              mov bx, 01h
[ 104]        :                                       
[ 105]        :                                       ;checking for replay switch
[ 106]    0473: E4 94                                 chk2:	in al, 94h
[ 107]    0475: 24 04                                 	and al,00000100b
[ 108]    0477: 74 FA                                 	jz chk2
[ 109]        :                                       ;making replay led high
[ 110]    0479: B0 20                                 mov al,00100000b
[ 111]    047B: E6 94                                 out 94h,al
[ 112]        :                                       
[ 113]    047D: B9 70 17                              mov cx,6000d
[ 114]    0480: BF 00 00                              mov di,00h
[ 115]    0483:                                       c :
[ 116]    0483: 8B CB                                 mov cx,bx
[ 117]    0485: E4 94                                 d : in al,94h
[ 118]    0487: 24 02                                 and al,02h
[ 119]    0489: 3C 00                                 cmp al,00h
[ 120]    048B: 90 90                                 je d
[ 121]    048D: E4 94                                 e:  in al,94h
[ 122]    048F: 24 02                                 and al,02h
[ 123]    0491: 3C 02                                 cmp al,02h
[ 124]    0493: 74 F8                                 je e
[ 125]    0495: 90 90                                 loop d
[ 126]    0497: 47                                    inc di
[ 127]    0498: 59                                    pop cx
[ 128]    0499: 90 90                                 loop c
[ 129]        :                                       
[ 130]        :                                       ;making replay led LOW
[ 131]    049B: B0 00                                 mov al,00000000b
[ 132]    049D: E6 94                                 out 94h,al
[ 133]        :                                       
[ 134]        :                                       
[ 135]        :                                       
 
===================================================================================================
 




===================================================================================================
